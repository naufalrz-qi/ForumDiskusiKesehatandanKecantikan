{% extends 'base_after.html' %}

{% block head %}
    <title>{{ user_data.profile_name }}'s profile</title>
{% endblock %}
{% block title %}
    <p class="has-text-weight-bold">Profile</p>
{% endblock %}
{% block body %}
<div class="card w-100 p-5 my-3 " style="border-radius: 20px; ">
    <div class="card-body">

        <div class="d-flex flex-row">
            
            <figure class="image is-96x96">
                <img class="is-rounded" src="../static/{{ user_data.profile_pic_real }}" alt="Image">
            </figure>
            

            <div class="d-flex flex-column my-5">
                <p class="h3 has-text-weight-bold m-0"> {{ user_data.profile_name }}

                    {% if user_data.status == 'verified' %}
                    <span class="button is-primary is-static text-white" style="background-color: #00d1b2; border-color: #00d1b2;">Expert</span>
                    {% endif %}

                </p>
                <small class="has-text-weight-light text-body-tertiary"> @{{ user_data.username }}</small>
            </div>
            
        </div>

        <div class="ms-5">  
            
            <p class="mt-3">
                {{ user_data.profile_info }}
            </p>
            
            <br>
            <p class="h3 has-text-weight-bold">About</p>
            <div class="ms-3 mt-5">
            
                <p class="h6 has-text-weight-bold">Gender</p> 
                <p>{{ user_data.gender }}</p>
                <br>
                <p class="h6 has-text-weight-bold">Academic Information</p> 
                <p>{{ user_data.academic_info }}</p>
                <br>
                <p class="h6 has-text-weight-bold">Workplace</p>
                <p>{{ user_data.workplace }}</p>
                <br> 
                <p class="h6 has-text-weight-bold">Service</p>
                <p>{{ user_data.service }}</p>
                <br> 
                <p class="h6 has-text-weight-bold">Contact</p>
                <p>{{ user_data.phone_number }}</p>
                <p>{{ user_data.email }}</p>
                <br> 
            </div>
            {% if status %}
            

            <div id="btns-me" class="d-flex justify-content-start">
                <a
                    class="button has-text-centered is-primary"
                    aria-label="edit"
                    onclick='$("#modal-edit").addClass("is-active")'
                >
                    Edit Profile&nbsp;&nbsp;&nbsp;<span class="icon is-small"
                    ><i class="fa fa-pencil" aria-hidden="true"></i
                    ></span>
                </a>
                
                <div class="modal" id="modal-edit">
                    <div
                        class="modal-background"
                        onclick='$("#modal-edit").removeClass("is-active")'
                    ></div>
                    <div class="modal-content">
                        <div class="box h-100">
                        <article class="media p-5">
                            <div class="media-content">
                            <div class="field">
                                <label class="label" for="input-name">Name</label>
                                <p class="control">
                                <input
                                    id="input-name"
                                    class="input"
                                    placeholder="Your name"
                                    value="{{ user_data.profile_name }}"
                                />
                                </p>
                            </div>

                            <div class="field">
                                <label class="label" for="input-gender">Gender</label>
                                <p class="control">
                                <select 
                                id="input-gender"
                                class="input"
                                placeholder="Gender"
                                value="{{ user_data.gender }}">

                                <option value="Pria">Pria</option>
                                <option value="Wanita">Wanita</option>
                            
                            </select>
                                   
                                
                                </p>
                            </div>

                            <div class="field">
                                <label class="label" for="input-acinfo">Academic Information</label>
                                <p class="control">
                                <input
                                    id="input-acinfo"
                                    class="input"
                                    placeholder="Academic Information"
                                    value="{{ user_data.academic_info }}"
                                />
                                </p>
                            </div>

                            <div class="field">
                                <label class="label" for="input-workplace">Workplace</label>
                                <p class="control">
                                <input
                                    id="input-workplace"
                                    class="input"
                                    placeholder="Workplace"
                                    value="{{ user_data.workplace }}"
                                />
                                </p>
                            </div>

                            <div class="field">
                                <label class="label" for="input-service">Service</label>
                                <p class="control">
                                <input
                                    id="input-service"
                                    class="input"
                                    placeholder="Your Service"
                                    value="{{ user_data.service }}"
                                />
                                </p>
                            </div>

                            <div class="field">
                                <label class="label" for="input-number">Phone Number</label>
                                <p class="control">
                                <input
                                    id="input-number"
                                    type="number"
                                    class="input"
                                    placeholder="Your Phone Number"
                                    value="{{ user_data.phone_number }}"
                                />
                                </p>
                            </div>


                            <div class="field">
                                <label class="label" for="input-pic">Profile Picture</label>
                
                                <div class="control is-expanded">
                                <div class="file has-name">
                                    <label class="file-label" style="width: 100%">
                                    <input
                                        id="input-pic"
                                        class="file-input"
                                        type="file"
                                        name="resume"
                                    />
                                    <span class="file-cta"
                                        ><span class="file-icon"
                                        ><i class="fa fa-upload"></i
                                        ></span>
                                        <span class="file-label">Select a file</span>
                                    </span>
                                    <span
                                        id="file-name"
                                        class="file-name"
                                        style="width: 100%; max-width: 100%"
                                        >{{ user_data.profile_pic }}</span
                                    >
                                    </label>
                                </div>
                                </div>
                            </div>
                            <div class="field">
                                <label class="label" for="textarea-info">Profile Info</label>
                
                                <p class="control">
                                <textarea
                                    id="textarea-info"
                                    class="textarea"
                                    placeholder="Introduce yourself"
                                >{{ user_data.profile_info }}</textarea
                                >
                                </p>
                            </div>
                            <nav class="level is-mobile">
                                <div class="level-left"></div>
                                <div class="level-right">
                                <div class="level-item">
                                    <a class="button is-primary" onclick="update_profile('{{ user_data.role }}')"
                                    >Update</a
                                    >
                                </div>
                                <div class="level-item">
                                    <a
                                    class="button is-primary is-outlined"
                                    onclick='$("#modal-edit").removeClass("is-active")'
                                    >Cancel</a
                                    >
                                </div>
                                </div>
                            </nav>
                            </div>
                        </article>
                        </div>
                    </div>
                    <button
                        class="modal-close is-large"
                        aria-label="close"
                        onclick='$("#modal-edit").removeClass("is-active")'
                    ></button>
                </div>
                {% if user_data.status == 'verified' %}
            
                <a class="button has-text-centered is-primary is-outlined mx-3 is-static">
                    verified
                </a>
                {% else %}
                <a class="button has-text-centered is-primary is-outlined mx-3" href="/expert_verification">
                    Expert Verification
                </a>
                {% endif %}
            </div>
            {% endif %}
        </div>
      
        
        

        
    </div>
  </div>
{% endblock %}

{% block script %}
    <script src="../static/js/update_profile.js"></script>
    <script>

        $(document).ready(function () {
            $(".sidebar2").addClass('is-hidden')
            $('.content').addClass('me-0')
        });

    </script>
{% endblock %}
